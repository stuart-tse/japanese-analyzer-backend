# ===========================================
# EXPRESS BACKEND: Production Environment Configuration
# ===========================================
# INSTRUCTIONS: Copy this to .env.production and fill in your actual values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
NODE_ENV=production
PORT=4000

# ===========================================
# DATABASE (PostgreSQL on AWS RDS)
# ===========================================
# TODO: Replace YOUR_RDS_PASSWORD with actual password from AWS RDS Console
# To get password:
# 1. Go to AWS RDS Console: https://console.aws.amazon.com/rds
# 2. Find your RDS instance
# 3. Use the password you set when creating the instance
# 4. If forgotten, you can reset it in RDS Console → Modify

DATABASE_URL=postgresql://postgres:?firxu7-zerkAh-cuqdeq@your-rds-endpoint.us-east-1.rds.amazonaws.com:5432/japanese_analyzer

# ===========================================
# GEMINI AI API (via OpenRouter)
# ===========================================
API_KEY=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
API_URL=https://openrouter.ai/api/v1/chat/completions
MODEL_NAME=google/gemini-3-flash-preview

# ===========================================
# JWT AUTHENTICATION
# ===========================================
JWT_SECRET=Q9+D0fgvHQ9R++ezgmPIOdxRH1UnHxPa0r3I0do21RU=
JWT_EXPIRY=7d
JWT_REFRESH_EXPIRY=30d

# ===========================================
# CORS CONFIGURATION (FIXED)
# ===========================================
# FIXED: Changed from masterjapanese.net to masterjapanese.com
CORS_ORIGIN=https://masterjapanese.net

# ===========================================
# STRIPE PAYMENT PROCESSING (NEEDS FIX)
# ===========================================
# TODO: Get your actual Stripe secret key from Stripe Dashboard
# 1. Go to: https://dashboard.stripe.com/test/apikeys
# 2. Copy "Secret key" (starts with sk_test_...)
# 3. Replace YOUR_ACTUAL_SECRET_KEY below

STRIPE_SECRET_KEY=sk_test_REPLACE_WITH_YOUR_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_REPLACE_WITH_YOUR_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_YOUR_WEBHOOK_SECRET
# Stripe Price IDs (create products in Stripe Dashboard first)
STRIPE_PRO_MONTHLY_PRICE_ID=price_REPLACE_WITH_PRO_MONTHLY_PRICE_ID
STRIPE_PRO_YEARLY_PRICE_ID=price_REPLACE_WITH_PRO_YEARLY_PRICE_ID
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_REPLACE_WITH_PREMIUM_MONTHLY_PRICE_ID
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_REPLACE_WITH_PREMIUM_YEARLY_PRICE_ID

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=info

# ===========================================
# SUMMARY OF WHAT YOU NEED TO UPDATE
# ===========================================
# 1. DATABASE_URL - Replace YOUR_RDS_PASSWORD with actual RDS password
# 2. CORS_ORIGIN - Already fixed to masterjapanese.com ✅
# 3. STRIPE_SECRET_KEY - Replace YOUR_ACTUAL_SECRET_KEY with real key from Stripe
# 4. STRIPE_WEBHOOK_SECRET - Get from Stripe Dashboard or CLI
# 5. STRIPE_*_PRICE_ID - Get from Stripe after creating products
