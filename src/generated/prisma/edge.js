
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  DbNull,
  JsonNull,
  AnyNull,
  NullTypes,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('./runtime/wasm-compiler-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 7.3.0
 * Query Engine version: 9d6ad21cbbceab97458517b147a6a09ff43aa735
 */
Prisma.prismaVersion = {
  client: "7.3.0",
  engine: "9d6ad21cbbceab97458517b147a6a09ff43aa735"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = DbNull
Prisma.JsonNull = JsonNull
Prisma.AnyNull = AnyNull

Prisma.NullTypes = NullTypes





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  email: 'email',
  passwordHash: 'passwordHash',
  displayName: 'displayName',
  provider: 'provider',
  providerId: 'providerId',
  avatar: 'avatar',
  phone: 'phone',
  refreshTokenHash: 'refreshTokenHash',
  lastLoginAt: 'lastLoginAt',
  subscriptionTier: 'subscriptionTier',
  credits: 'credits',
  customerId: 'customerId',
  subscriptionId: 'subscriptionId',
  subscriptionExpiry: 'subscriptionExpiry',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  lastActivityDate: 'lastActivityDate',
  learningStreak: 'learningStreak',
  totalAnalyses: 'totalAnalyses',
  wordsLearned: 'wordsLearned'
};

exports.Prisma.AnalyzedVocabularyScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  word: 'word',
  reading: 'reading',
  romaji: 'romaji',
  partOfSpeech: 'partOfSpeech',
  translation: 'translation',
  sentence: 'sentence',
  analyzedAt: 'analyzedAt',
  reviewCount: 'reviewCount',
  masteryLevel: 'masteryLevel'
};

exports.Prisma.CourseScalarFieldEnum = {
  id: 'id',
  level: 'level',
  title: 'title',
  description: 'description',
  totalLessons: 'totalLessons',
  estimatedHours: 'estimatedHours',
  requiredTier: 'requiredTier',
  creditCostPerLesson: 'creditCostPerLesson',
  isPublished: 'isPublished',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.LessonScalarFieldEnum = {
  id: 'id',
  courseId: 'courseId',
  lessonNumber: 'lessonNumber',
  unitNumber: 'unitNumber',
  title: 'title',
  description: 'description',
  vocabularyItems: 'vocabularyItems',
  grammarPoints: 'grammarPoints',
  practiceExercises: 'practiceExercises',
  isQuiz: 'isQuiz',
  estimatedMinutes: 'estimatedMinutes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlacementQuestionScalarFieldEnum = {
  id: 'id',
  level: 'level',
  skillType: 'skillType',
  difficulty: 'difficulty',
  questionText: 'questionText',
  questionTextChinese: 'questionTextChinese',
  passageText: 'passageText',
  options: 'options',
  correctAnswerId: 'correctAnswerId',
  explanation: 'explanation',
  audioUrl: 'audioUrl',
  timesShown: 'timesShown',
  timesCorrect: 'timesCorrect',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.LessonNotificationScalarFieldEnum = {
  id: 'id',
  email: 'email',
  lessonId: 'lessonId',
  notifiedAt: 'notifiedAt',
  createdAt: 'createdAt'
};

exports.Prisma.PlacementTestAnswerScalarFieldEnum = {
  id: 'id',
  attemptId: 'attemptId',
  questionId: 'questionId',
  selectedAnswerId: 'selectedAnswerId',
  isCorrect: 'isCorrect',
  timeSpentSeconds: 'timeSpentSeconds',
  answeredAt: 'answeredAt'
};

exports.Prisma.PlacementTestAttemptScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  startedAt: 'startedAt',
  completedAt: 'completedAt',
  initialLevel: 'initialLevel',
  finalRecommendedLevel: 'finalRecommendedLevel',
  skillBreakdown: 'skillBreakdown',
  totalQuestions: 'totalQuestions',
  totalCorrect: 'totalCorrect',
  testDurationSeconds: 'testDurationSeconds'
};

exports.Prisma.UserFlashcardScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  word: 'word',
  reading: 'reading',
  translation: 'translation',
  exampleSentence: 'exampleSentence',
  audioUrl: 'audioUrl',
  sourceLessonId: 'sourceLessonId',
  timesReviewed: 'timesReviewed',
  lastReviewedAt: 'lastReviewedAt',
  nextReviewAt: 'nextReviewAt',
  easeFactor: 'easeFactor',
  interval: 'interval',
  createdAt: 'createdAt'
};

exports.Prisma.UserLessonProgressScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  lessonId: 'lessonId',
  vocabularyCompleted: 'vocabularyCompleted',
  grammarCompleted: 'grammarCompleted',
  practiceCompleted: 'practiceCompleted',
  practiceScore: 'practiceScore',
  isCompleted: 'isCompleted',
  completedAt: 'completedAt',
  lastAccessedAt: 'lastAccessedAt',
  currentTab: 'currentTab',
  scrollPosition: 'scrollPosition'
};

exports.Prisma.SubscriptionScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  tier: 'tier',
  status: 'status',
  stripeSubscriptionId: 'stripeSubscriptionId',
  stripePriceId: 'stripePriceId',
  stripeProductId: 'stripeProductId',
  billingPeriod: 'billingPeriod',
  currentPeriodStart: 'currentPeriodStart',
  currentPeriodEnd: 'currentPeriodEnd',
  cancelAtPeriodEnd: 'cancelAtPeriodEnd',
  canceledAt: 'canceledAt',
  monthlyCredits: 'monthlyCredits',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PaymentScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  amount: 'amount',
  currency: 'currency',
  paymentMethod: 'paymentMethod',
  status: 'status',
  type: 'type',
  stripePaymentIntentId: 'stripePaymentIntentId',
  stripeInvoiceId: 'stripeInvoiceId',
  externalPaymentId: 'externalPaymentId',
  subscriptionId: 'subscriptionId',
  creditAmount: 'creditAmount',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  paidAt: 'paidAt'
};

exports.Prisma.CreditTransactionScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  amount: 'amount',
  balanceAfter: 'balanceAfter',
  type: 'type',
  description: 'description',
  paymentId: 'paymentId',
  featureType: 'featureType',
  relatedEntityId: 'relatedEntityId',
  createdAt: 'createdAt'
};

exports.Prisma.AnalysisScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  inputText: 'inputText',
  result: 'result',
  translations: 'translations',
  fullTranslation: 'fullTranslation',
  language: 'language',
  createdAt: 'createdAt'
};

exports.Prisma.VocabularyScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  word: 'word',
  furigana: 'furigana',
  romaji: 'romaji',
  meaningZhCN: 'meaningZhCN',
  jlptLevel: 'jlptLevel',
  pos: 'pos',
  notes: 'notes',
  mastered: 'mastered',
  reviewCount: 'reviewCount',
  lastReviewedAt: 'lastReviewedAt',
  srsInterval: 'srsInterval',
  srsEaseFactor: 'srsEaseFactor',
  srsDueDate: 'srsDueDate',
  srsStage: 'srsStage',
  sourcePackId: 'sourcePackId',
  wrongCount: 'wrongCount',
  createdAt: 'createdAt'
};

exports.Prisma.WordPackScalarFieldEnum = {
  id: 'id',
  packId: 'packId',
  nameZhCN: 'nameZhCN',
  nameEn: 'nameEn',
  descriptionZhCN: 'descriptionZhCN',
  category: 'category',
  jlptLevel: 'jlptLevel',
  type: 'type',
  words: 'words',
  order: 'order'
};

exports.Prisma.UserPackProgressScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  packId: 'packId',
  status: 'status',
  studiedWords: 'studiedWords',
  wrongWords: 'wrongWords',
  quizScore: 'quizScore',
  quizAttempts: 'quizAttempts',
  completedAt: 'completedAt',
  createdAt: 'createdAt'
};

exports.Prisma.LearningStatsScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  totalAnalyses: 'totalAnalyses',
  totalWordsLearned: 'totalWordsLearned',
  streakDays: 'streakDays',
  lastActiveDate: 'lastActiveDate',
  jlptProgress: 'jlptProgress',
  dailyActivity: 'dailyActivity',
  achievements: 'achievements',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.WordExampleScalarFieldEnum = {
  id: 'id',
  word: 'word',
  jlptLevel: 'jlptLevel',
  examples: 'examples',
  generatedAt: 'generatedAt'
};

exports.Prisma.AnalysisCacheScalarFieldEnum = {
  id: 'id',
  inputText: 'inputText',
  inputHash: 'inputHash',
  result: 'result',
  generatedAt: 'generatedAt'
};

exports.Prisma.WordDetailCacheScalarFieldEnum = {
  id: 'id',
  word: 'word',
  pos: 'pos',
  learningMode: 'learningMode',
  result: 'result',
  generatedAt: 'generatedAt'
};

exports.Prisma.TranslationCacheScalarFieldEnum = {
  id: 'id',
  inputText: 'inputText',
  inputHash: 'inputHash',
  result: 'result',
  generatedAt: 'generatedAt'
};

exports.Prisma.GrammarAnalysisCacheScalarFieldEnum = {
  id: 'id',
  inputText: 'inputText',
  inputHash: 'inputHash',
  result: 'result',
  generatedAt: 'generatedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.SubscriptionTier = exports.$Enums.SubscriptionTier = {
  FREE: 'FREE',
  PRO: 'PRO',
  PREMIUM: 'PREMIUM'
};

exports.SubscriptionStatus = exports.$Enums.SubscriptionStatus = {
  ACTIVE: 'ACTIVE',
  PAST_DUE: 'PAST_DUE',
  CANCELED: 'CANCELED',
  INCOMPLETE: 'INCOMPLETE',
  TRIALING: 'TRIALING'
};

exports.PaymentMethod = exports.$Enums.PaymentMethod = {
  CARD: 'CARD',
  ALIPAY: 'ALIPAY',
  WECHAT_PAY: 'WECHAT_PAY'
};

exports.PaymentStatus = exports.$Enums.PaymentStatus = {
  PENDING: 'PENDING',
  SUCCEEDED: 'SUCCEEDED',
  FAILED: 'FAILED',
  REFUNDED: 'REFUNDED'
};

exports.PaymentType = exports.$Enums.PaymentType = {
  SUBSCRIPTION: 'SUBSCRIPTION',
  CREDIT_TOPUP: 'CREDIT_TOPUP',
  ONE_TIME: 'ONE_TIME'
};

exports.CreditTransactionType = exports.$Enums.CreditTransactionType = {
  PURCHASE: 'PURCHASE',
  MONTHLY_ALLOCATION: 'MONTHLY_ALLOCATION',
  DEDUCTION: 'DEDUCTION',
  REFUND: 'REFUND',
  BONUS: 'BONUS'
};

exports.Prisma.ModelName = {
  User: 'User',
  AnalyzedVocabulary: 'AnalyzedVocabulary',
  Course: 'Course',
  Lesson: 'Lesson',
  PlacementQuestion: 'PlacementQuestion',
  LessonNotification: 'LessonNotification',
  PlacementTestAnswer: 'PlacementTestAnswer',
  PlacementTestAttempt: 'PlacementTestAttempt',
  UserFlashcard: 'UserFlashcard',
  UserLessonProgress: 'UserLessonProgress',
  Subscription: 'Subscription',
  Payment: 'Payment',
  CreditTransaction: 'CreditTransaction',
  Analysis: 'Analysis',
  Vocabulary: 'Vocabulary',
  WordPack: 'WordPack',
  UserPackProgress: 'UserPackProgress',
  LearningStats: 'LearningStats',
  WordExample: 'WordExample',
  AnalysisCache: 'AnalysisCache',
  WordDetailCache: 'WordDetailCache',
  TranslationCache: 'TranslationCache',
  GrammarAnalysisCache: 'GrammarAnalysisCache'
};
/**
 * Create the Client
 */
const config = {
  "previewFeatures": [],
  "clientVersion": "7.3.0",
  "engineVersion": "9d6ad21cbbceab97458517b147a6a09ff43aa735",
  "activeProvider": "postgresql",
  "inlineSchema": "generator client {\n  provider      = \"prisma-client-js\"\n  output        = \"../src/generated/prisma\"\n  binaryTargets = [\"native\", \"debian-openssl-3.0.x\"]\n}\n\ndatasource db {\n  provider = \"postgresql\"\n}\n\n// ============================================\n// ENUMS\n// ============================================\n\nenum SubscriptionTier {\n  FREE\n  PRO\n  PREMIUM\n}\n\nenum SubscriptionStatus {\n  ACTIVE\n  PAST_DUE\n  CANCELED\n  INCOMPLETE\n  TRIALING\n}\n\nenum PaymentMethod {\n  CARD\n  ALIPAY\n  WECHAT_PAY\n}\n\nenum PaymentStatus {\n  PENDING\n  SUCCEEDED\n  FAILED\n  REFUNDED\n}\n\nenum PaymentType {\n  SUBSCRIPTION\n  CREDIT_TOPUP\n  ONE_TIME\n}\n\nenum CreditTransactionType {\n  PURCHASE // User bought credits\n  MONTHLY_ALLOCATION // Monthly subscription credits\n  DEDUCTION // Used credits for feature\n  REFUND // Credits refunded\n  BONUS // Bonus credits from promotion\n}\n\nmodel User {\n  id                   String                 @id @default(cuid())\n  email                String                 @unique\n  passwordHash         String?\n  displayName          String?\n  provider             String                 @default(\"credentials\")\n  providerId           String?\n  avatar               String?\n  phone                String?\n  refreshTokenHash     String?\n  lastLoginAt          DateTime?\n  subscriptionTier     String                 @default(\"FREE\")\n  credits              Int                    @default(0)\n  customerId           String?                @unique\n  subscriptionId       String?\n  subscriptionExpiry   DateTime?\n  createdAt            DateTime               @default(now())\n  updatedAt            DateTime               @updatedAt\n  lastActivityDate     DateTime?\n  learningStreak       Int                    @default(0)\n  totalAnalyses        Int                    @default(0)\n  wordsLearned         Int                    @default(0)\n  AnalyzedVocabulary   AnalyzedVocabulary[]\n  PlacementTestAttempt PlacementTestAttempt[]\n  UserFlashcard        UserFlashcard[]\n  UserLessonProgress   UserLessonProgress[]\n  payments             Payment[]\n  creditTransactions   CreditTransaction[]\n  subscriptions        Subscription[]\n  vocabularies         Vocabulary[]\n  userPackProgress     UserPackProgress[]\n  learningStats        LearningStats?\n\n  @@unique([provider, providerId])\n  @@index([email])\n  @@index([subscriptionTier])\n}\n\nmodel AnalyzedVocabulary {\n  id           String   @id @default(cuid())\n  userId       String\n  word         String\n  reading      String?\n  romaji       String?\n  partOfSpeech String?\n  translation  String?\n  sentence     String?\n  analyzedAt   DateTime @default(now())\n  reviewCount  Int      @default(0)\n  masteryLevel Int      @default(0)\n  User         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([word])\n  @@index([userId, word])\n}\n\nmodel Course {\n  id                  String   @id @default(cuid())\n  level               String\n  title               String\n  description         String?\n  totalLessons        Int\n  estimatedHours      Int?\n  requiredTier        String   @default(\"FREE\")\n  creditCostPerLesson Int      @default(0)\n  isPublished         Boolean  @default(false)\n  createdAt           DateTime @default(now())\n  updatedAt           DateTime @updatedAt\n  lessons             Lesson[]\n\n  @@index([level])\n  @@index([isPublished])\n}\n\nmodel Lesson {\n  id                 String               @id @default(cuid())\n  courseId           String\n  lessonNumber       Int\n  unitNumber         Int?\n  title              String\n  description        String?\n  vocabularyItems    Json?\n  grammarPoints      Json?\n  practiceExercises  Json?\n  isQuiz             Boolean              @default(false)\n  estimatedMinutes   Int                  @default(30)\n  createdAt          DateTime             @default(now())\n  updatedAt          DateTime             @updatedAt\n  course             Course               @relation(fields: [courseId], references: [id], onDelete: Cascade)\n  UserLessonProgress UserLessonProgress[]\n\n  @@unique([courseId, lessonNumber])\n  @@index([courseId, lessonNumber])\n}\n\nmodel PlacementQuestion {\n  id                  String   @id @default(cuid())\n  level               String\n  skillType           String\n  difficulty          Int\n  questionText        String\n  questionTextChinese String?\n  passageText         String?\n  options             Json\n  correctAnswerId     String\n  explanation         String?\n  audioUrl            String?\n  timesShown          Int      @default(0)\n  timesCorrect        Int      @default(0)\n  isActive            Boolean  @default(true)\n  createdAt           DateTime @default(now())\n  updatedAt           DateTime @updatedAt\n\n  @@index([difficulty])\n  @@index([level, skillType, isActive])\n}\n\nmodel LessonNotification {\n  id         String    @id\n  email      String\n  lessonId   String\n  notifiedAt DateTime?\n  createdAt  DateTime  @default(now())\n\n  @@index([email])\n  @@index([lessonId])\n  @@index([notifiedAt])\n}\n\nmodel PlacementTestAnswer {\n  id                   String               @id\n  attemptId            String\n  questionId           String\n  selectedAnswerId     String\n  isCorrect            Boolean\n  timeSpentSeconds     Int\n  answeredAt           DateTime             @default(now())\n  PlacementTestAttempt PlacementTestAttempt @relation(fields: [attemptId], references: [id], onDelete: Cascade)\n\n  @@index([attemptId])\n  @@index([questionId])\n}\n\nmodel PlacementTestAttempt {\n  id                    String                @id\n  userId                String\n  startedAt             DateTime              @default(now())\n  completedAt           DateTime?\n  initialLevel          String?\n  finalRecommendedLevel String?\n  skillBreakdown        Json?\n  totalQuestions        Int\n  totalCorrect          Int\n  testDurationSeconds   Int?\n  PlacementTestAnswer   PlacementTestAnswer[]\n  User                  User                  @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([completedAt])\n  @@index([userId])\n}\n\nmodel UserFlashcard {\n  id              String    @id\n  userId          String\n  word            String\n  reading         String?\n  translation     String?\n  exampleSentence String?\n  audioUrl        String?\n  sourceLessonId  String?\n  timesReviewed   Int       @default(0)\n  lastReviewedAt  DateTime?\n  nextReviewAt    DateTime?\n  easeFactor      Float     @default(2.5)\n  interval        Int       @default(0)\n  createdAt       DateTime  @default(now())\n  User            User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([userId, nextReviewAt])\n}\n\nmodel UserLessonProgress {\n  id                  String    @id\n  userId              String\n  lessonId            String\n  vocabularyCompleted Boolean   @default(false)\n  grammarCompleted    Boolean   @default(false)\n  practiceCompleted   Boolean   @default(false)\n  practiceScore       Decimal?  @db.Decimal(5, 2)\n  isCompleted         Boolean   @default(false)\n  completedAt         DateTime?\n  lastAccessedAt      DateTime  @default(now())\n  currentTab          String?\n  scrollPosition      Int?\n  Lesson              Lesson    @relation(fields: [lessonId], references: [id], onDelete: Cascade)\n  User                User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, lessonId])\n  @@index([lessonId])\n  @@index([userId])\n}\n\n// ============================================\n// SUBSCRIPTION MANAGEMENT\n// ============================================\n\nmodel Subscription {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  // Subscription details\n  tier   SubscriptionTier\n  status SubscriptionStatus @default(ACTIVE)\n\n  // Stripe fields\n  stripeSubscriptionId String? @unique\n  stripePriceId        String?\n  stripeProductId      String?\n\n  // Billing\n  billingPeriod      String // 'monthly' or 'yearly'\n  currentPeriodStart DateTime?\n  currentPeriodEnd   DateTime?\n  cancelAtPeriodEnd  Boolean   @default(false)\n  canceledAt         DateTime?\n\n  // Credits\n  monthlyCredits Int @default(0) // Credits allocated per month\n\n  // Timestamps\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([userId])\n  @@index([stripeSubscriptionId])\n  @@index([status])\n}\n\n// ============================================\n// PAYMENT PROCESSING\n// ============================================\n\nmodel Payment {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  // Payment details\n  amount        Decimal       @db.Decimal(10, 2)\n  currency      String        @default(\"usd\")\n  paymentMethod PaymentMethod\n  status        PaymentStatus @default(PENDING)\n  type          PaymentType\n\n  // Stripe fields\n  stripePaymentIntentId String? @unique\n  stripeInvoiceId       String? @unique\n\n  // Additional payment provider IDs (for Alipay/WeChat)\n  externalPaymentId String?\n\n  // Related entities\n  subscriptionId String?\n  creditAmount   Int? // If payment was for credits\n\n  // Timestamps\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  paidAt    DateTime?\n\n  @@index([userId])\n  @@index([stripePaymentIntentId])\n  @@index([status])\n  @@index([createdAt])\n}\n\n// ============================================\n// CREDIT SYSTEM\n// ============================================\n\nmodel CreditTransaction {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  // Transaction details\n  amount       Int // Positive for additions, negative for deductions\n  balanceAfter Int // Balance after this transaction\n  type         CreditTransactionType\n  description  String?\n\n  // Related entities\n  paymentId       String? // If from purchase\n  featureType     String? // e.g., 'premium_pack', 'jlpt_exam'\n  relatedEntityId String? // ID of pack or exam\n\n  // Timestamps\n  createdAt DateTime @default(now())\n\n  @@index([userId])\n  @@index([createdAt])\n  @@index([type])\n}\n\n// ============================================\n// ANALYSIS HISTORY\n// ============================================\n\nmodel Analysis {\n  id     String @id @default(cuid())\n  userId String\n\n  // Analysis data (matches Mongoose: sentence, tokens, translations, fullTranslation)\n  inputText       String  @db.Text // maps to \"sentence\"\n  result          Json // Store tokenized analysis (maps to \"tokens\")\n  translations    Json? // maps to Mongoose \"translations\" field\n  fullTranslation String? @db.Text\n\n  // Metadata\n  language  String   @default(\"ja\")\n  createdAt DateTime @default(now())\n\n  @@index([userId])\n  @@index([createdAt])\n  @@index([userId, inputText(ops: raw(\"text_pattern_ops\"))])\n}\n\n// ============================================\n// VOCABULARY (SRS)\n// ============================================\n\nmodel Vocabulary {\n  id             String    @id @default(cuid())\n  userId         String\n  user           User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  word           String\n  furigana       String    @default(\"\")\n  romaji         String    @default(\"\")\n  meaningZhCN    String    @default(\"\") @map(\"meaning_zh_cn\")\n  jlptLevel      String    @default(\"\")\n  pos            String    @default(\"\")\n  notes          String?\n  mastered       Boolean   @default(false)\n  reviewCount    Int       @default(0)\n  lastReviewedAt DateTime?\n  srsInterval    Int       @default(0)\n  srsEaseFactor  Float     @default(2.5)\n  srsDueDate     DateTime?\n  srsStage       String    @default(\"new\") // new, learning, review, mastered\n  sourcePackId   String?\n  wrongCount     Int       @default(0)\n  createdAt      DateTime  @default(now())\n\n  @@unique([userId, word])\n  @@index([userId, createdAt(sort: Desc)])\n  @@index([userId, srsStage, srsDueDate])\n}\n\n// ============================================\n// WORD PACKS\n// ============================================\n\nmodel WordPack {\n  id              String @id @default(cuid())\n  packId          String @unique\n  nameZhCN        String @map(\"name_zh_cn\")\n  nameEn          String @map(\"name_en\")\n  descriptionZhCN String @default(\"\") @map(\"description_zh_cn\")\n  category        String\n  jlptLevel       String\n  type            String @default(\"vocabulary\") // \"vocabulary\" | \"grammar\"\n  words           Json // String[]\n  order           Int\n\n  @@index([jlptLevel, type, order])\n}\n\n// ============================================\n// USER PACK PROGRESS\n// ============================================\n\nmodel UserPackProgress {\n  id           String    @id @default(cuid())\n  userId       String\n  user         User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  packId       String\n  status       String    @default(\"locked\") // locked, available, studying, completed\n  studiedWords Json      @default(\"[]\") // String[]\n  wrongWords   Json      @default(\"[]\") // String[]\n  quizScore    Int?\n  quizAttempts Int       @default(0)\n  completedAt  DateTime?\n  createdAt    DateTime  @default(now())\n\n  @@unique([userId, packId])\n  @@index([userId, status])\n}\n\n// ============================================\n// LEARNING STATS\n// ============================================\n\nmodel LearningStats {\n  id                String   @id @default(cuid())\n  userId            String   @unique\n  user              User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  totalAnalyses     Int      @default(0)\n  totalWordsLearned Int      @default(0)\n  streakDays        Int      @default(0)\n  lastActiveDate    DateTime @default(now())\n  jlptProgress      Json     @default(\"{}\") // Record<string, number>\n  dailyActivity     Json     @default(\"[]\") // Array<{date: string, count: number}>\n  achievements      Json     @default(\"[]\") // String[]\n  createdAt         DateTime @default(now())\n  updatedAt         DateTime @updatedAt\n}\n\n// ============================================\n// WORD EXAMPLES (AI-generated cache)\n// ============================================\n\nmodel WordExample {\n  id          String   @id @default(cuid())\n  word        String\n  jlptLevel   String   @default(\"N5\")\n  examples    Json // Array<{sentence, furigana, meaning_zh_CN}>\n  generatedAt DateTime @default(now())\n\n  @@unique([word, jlptLevel])\n}\n\n// ============================================\n// AI RESPONSE CACHE\n// ============================================\n\nmodel AnalysisCache {\n  id          String   @id @default(cuid())\n  inputText   String   @db.Text\n  inputHash   String   @unique // SHA-256 of trimmed inputText\n  result      Json // Array<TokenData>\n  generatedAt DateTime @default(now())\n\n  @@index([inputHash])\n}\n\nmodel WordDetailCache {\n  id           String   @id @default(cuid())\n  word         String\n  pos          String\n  learningMode String   @default(\"intermediate\")\n  result       Json // WordDetail JSON\n  generatedAt  DateTime @default(now())\n\n  @@unique([word, pos, learningMode])\n  @@index([word])\n}\n\nmodel TranslationCache {\n  id          String   @id @default(cuid())\n  inputText   String   @db.Text\n  inputHash   String   @unique // SHA-256 of trimmed inputText\n  result      String   @db.Text // Translated text\n  generatedAt DateTime @default(now())\n\n  @@index([inputHash])\n}\n\nmodel GrammarAnalysisCache {\n  id          String   @id @default(cuid())\n  inputText   String   @db.Text\n  inputHash   String   @unique // SHA-256 of trimmed inputText\n  result      Json // Grammar analysis JSON\n  generatedAt DateTime @default(now())\n\n  @@index([inputHash])\n}\n"
}

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"passwordHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"displayName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"provider\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"providerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"refreshTokenHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastLoginAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"subscriptionTier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"credits\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subscriptionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subscriptionExpiry\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastActivityDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"learningStreak\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalAnalyses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"wordsLearned\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"AnalyzedVocabulary\",\"kind\":\"object\",\"type\":\"AnalyzedVocabulary\",\"relationName\":\"AnalyzedVocabularyToUser\"},{\"name\":\"PlacementTestAttempt\",\"kind\":\"object\",\"type\":\"PlacementTestAttempt\",\"relationName\":\"PlacementTestAttemptToUser\"},{\"name\":\"UserFlashcard\",\"kind\":\"object\",\"type\":\"UserFlashcard\",\"relationName\":\"UserToUserFlashcard\"},{\"name\":\"UserLessonProgress\",\"kind\":\"object\",\"type\":\"UserLessonProgress\",\"relationName\":\"UserToUserLessonProgress\"},{\"name\":\"payments\",\"kind\":\"object\",\"type\":\"Payment\",\"relationName\":\"PaymentToUser\"},{\"name\":\"creditTransactions\",\"kind\":\"object\",\"type\":\"CreditTransaction\",\"relationName\":\"CreditTransactionToUser\"},{\"name\":\"subscriptions\",\"kind\":\"object\",\"type\":\"Subscription\",\"relationName\":\"SubscriptionToUser\"},{\"name\":\"vocabularies\",\"kind\":\"object\",\"type\":\"Vocabulary\",\"relationName\":\"UserToVocabulary\"},{\"name\":\"userPackProgress\",\"kind\":\"object\",\"type\":\"UserPackProgress\",\"relationName\":\"UserToUserPackProgress\"},{\"name\":\"learningStats\",\"kind\":\"object\",\"type\":\"LearningStats\",\"relationName\":\"LearningStatsToUser\"}],\"dbName\":null},\"AnalyzedVocabulary\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"word\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reading\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"romaji\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"partOfSpeech\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sentence\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"analyzedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"reviewCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"masteryLevel\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"User\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AnalyzedVocabularyToUser\"}],\"dbName\":null},\"Course\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"level\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalLessons\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"estimatedHours\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"requiredTier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"creditCostPerLesson\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isPublished\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lessons\",\"kind\":\"object\",\"type\":\"Lesson\",\"relationName\":\"CourseToLesson\"}],\"dbName\":null},\"Lesson\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"courseId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lessonNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"unitNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vocabularyItems\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"grammarPoints\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"practiceExercises\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isQuiz\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"estimatedMinutes\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"course\",\"kind\":\"object\",\"type\":\"Course\",\"relationName\":\"CourseToLesson\"},{\"name\":\"UserLessonProgress\",\"kind\":\"object\",\"type\":\"UserLessonProgress\",\"relationName\":\"LessonToUserLessonProgress\"}],\"dbName\":null},\"PlacementQuestion\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"level\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"skillType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"difficulty\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"questionText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"questionTextChinese\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"passageText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"options\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"correctAnswerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"explanation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"audioUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timesShown\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"timesCorrect\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"LessonNotification\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notifiedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"PlacementTestAnswer\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"attemptId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"questionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"selectedAnswerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isCorrect\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"timeSpentSeconds\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"answeredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"PlacementTestAttempt\",\"kind\":\"object\",\"type\":\"PlacementTestAttempt\",\"relationName\":\"PlacementTestAnswerToPlacementTestAttempt\"}],\"dbName\":null},\"PlacementTestAttempt\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"initialLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"finalRecommendedLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"skillBreakdown\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"totalQuestions\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalCorrect\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"testDurationSeconds\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"PlacementTestAnswer\",\"kind\":\"object\",\"type\":\"PlacementTestAnswer\",\"relationName\":\"PlacementTestAnswerToPlacementTestAttempt\"},{\"name\":\"User\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PlacementTestAttemptToUser\"}],\"dbName\":null},\"UserFlashcard\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"word\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reading\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"exampleSentence\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"audioUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceLessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timesReviewed\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastReviewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"nextReviewAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"easeFactor\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"interval\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"User\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserFlashcard\"}],\"dbName\":null},\"UserLessonProgress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vocabularyCompleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"grammarCompleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"practiceCompleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"practiceScore\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isCompleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastAccessedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"currentTab\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"scrollPosition\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"Lesson\",\"kind\":\"object\",\"type\":\"Lesson\",\"relationName\":\"LessonToUserLessonProgress\"},{\"name\":\"User\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserLessonProgress\"}],\"dbName\":null},\"Subscription\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SubscriptionToUser\"},{\"name\":\"tier\",\"kind\":\"enum\",\"type\":\"SubscriptionTier\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"SubscriptionStatus\"},{\"name\":\"stripeSubscriptionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"stripePriceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"stripeProductId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"billingPeriod\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"currentPeriodStart\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"currentPeriodEnd\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"cancelAtPeriodEnd\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canceledAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"monthlyCredits\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Payment\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PaymentToUser\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"currency\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"paymentMethod\",\"kind\":\"enum\",\"type\":\"PaymentMethod\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"PaymentStatus\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"PaymentType\"},{\"name\":\"stripePaymentIntentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"stripeInvoiceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalPaymentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subscriptionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"creditAmount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"paidAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CreditTransaction\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CreditTransactionToUser\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"balanceAfter\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"CreditTransactionType\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"paymentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"featureType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"relatedEntityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Analysis\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"result\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"translations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"fullTranslation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"language\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Vocabulary\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToVocabulary\"},{\"name\":\"word\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"furigana\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"romaji\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"meaningZhCN\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"meaning_zh_cn\"},{\"name\":\"jlptLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"pos\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"mastered\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"reviewCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastReviewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"srsInterval\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"srsEaseFactor\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"srsDueDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"srsStage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourcePackId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"wrongCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"WordPack\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"packId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nameZhCN\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"name_zh_cn\"},{\"name\":\"nameEn\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"name_en\"},{\"name\":\"descriptionZhCN\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"description_zh_cn\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jlptLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"words\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"order\",\"kind\":\"scalar\",\"type\":\"Int\"}],\"dbName\":null},\"UserPackProgress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserPackProgress\"},{\"name\":\"packId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"studiedWords\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"wrongWords\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"quizScore\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"quizAttempts\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"LearningStats\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"LearningStatsToUser\"},{\"name\":\"totalAnalyses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalWordsLearned\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"streakDays\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastActiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"jlptProgress\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"dailyActivity\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"achievements\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"WordExample\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"word\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jlptLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"examples\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"AnalysisCache\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"result\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"WordDetailCache\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"word\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"pos\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"learningMode\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"result\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"TranslationCache\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"result\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"GrammarAnalysisCache\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inputHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"result\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.compilerWasm = {
  getRuntime: async () => require('./query_compiler_fast_bg.js'),
  getQueryCompilerWasmModule: async () => {
    const loader = (await import('#wasm-compiler-loader')).default
    const compiler = (await loader).default
    return compiler
  },
  importName: './query_compiler_fast_bg.js',
}
if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || (typeof process !== 'undefined' && process.env && process.env.DEBUG) || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || (typeof process !== 'undefined' && process.env && process.env.DEBUG) || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)
